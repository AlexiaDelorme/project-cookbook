{% extends 'general/base.html' %} 
{% block content %}

<div class="row container-section">

    <div class="row center-align" id="recipe-indicator">
        
        <!-- Servings -->
        <div class="col s12 m3 l2 offset-l2">Serves {{ recipe.serving }}</div>
        
        <!-- Diet -->
        <div class="col s12 m3 l2">
            {% for diet in recipe.diet %}
                {{ diet.capitalize() }} <br>
            {% endfor %}
        </div>
        
        <!-- Preparation time -->
        <div class="col s12 m3 l2"><i class="fa fa-clock-o" aria-hidden="true"></i> 
            {% if hours == "" %}
                {{minutes}} min
            {% elif minutes == 0 %}
                {{hours}}h
            {% else %}
                {{hours}}h{{minutes}} 
            {% endif %}
        </div>
        
        <!-- Difficulty -->
        <div class="col s12 m3 l2"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> {{ recipe.difficulty.capitalize() }}</div>
    
    </div>
    
    <div class="row center-align">
    
        <h6>Share this recipe!</h6>
    
        <!-- Modal Trigger for share recipe -->
        <a class="btn btn-floating pulse modal-trigger" href="#modal1"><i class="material-icons">share</i></a>
        <!-- Print recipe -->
        <a class="btn btn-floating pulse" onclick="myPrintFunction()"><i class="material-icons">print</i></a>

    </div>
    
    <!-- Recipe image -->
    <div class="row center-align">
        <div class="col s12 m8 offset-m2 l6 offset-l3"><img class="card-img" src="../{{recipe.image_path}}" alt="{{recipe.recipe_name}}"></img>
        </div>
    </div>
    
    <!-- Recipe description -->
    <div class="row center-align">
        <p> {{ recipe.recipe_description.capitalize() }} </p>
    </div>
    
    <!-- Shopping cart icon -->
    <div class="row center-align">
        <i class="fa fa-shopping-basket " aria-hidden="true"></i>
    </div>

    <div class="row center-align">
        
        <!-- Ingredients -->
        <div class="col s12 m6 l4 offset-l2">
            <h5>Ingredients list</h5>
            <ul class="list-styling">
                {% for ingredient in recipe.ingredients %}
                    <li>{{ ingredient.capitalize() }}</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Tools -->
        <div class="col s12 m6 l4">
            <h5>Cooking tools</h5>
            <ul class="list-styling">
                {% for tool in recipe.tools %}
                    <li>{{ tool.capitalize() }}</li>
                {% endfor %}
            </ul>
        </div>
        
    </div>

    <!-- Instructions -->
    <div class="row center-align">
        <h5>Preparation steps</h5>
        <div class="col s12 l8 offset-l2 left-align">
            <ol>
                {% for instruction in recipe.instructions %}
                    <li>{{ instruction.capitalize() }}</li>
                {% endfor %}
            </ol>
        </div>
    </div>
    
    <!-- Save as favorite -->
    {% if session["email"] %}
        <div class="row center-align">
            {% if recipe._id in user_favorites %}
                <h6>Remove from favorites?</h6> 
                <a class="btn btn-floating pulse" id="" href="{{url_for('delete_favorite', recipe_id=recipe._id)}}"><i class="fa fa-trash" aria-hidden="true"></i></a>
            {% else %}
                <h6>Save as favorite?</h6> 
                <a class="btn btn-floating pulse" id="" href="{{url_for('add_favorite', recipe_id=recipe._id)}}"><i class="fa fa-heart" aria-hidden="true"></i></a>
            {% endif %}
        </div>
    {% endif %}

</div>

{% endblock %}

{% block carousel %}

<!-- Carousel-->
<h4 class="center-align headline-carousel">TRY OUR FAVORITE RECIPES!</h4>
<div class="carousel">
    {% for image in carousel %}
        <a class="carousel-item" href="#"><img src="../{{ image }}"></a>  
    {% endfor %}
</div>

<!-- Modal Structure -->
<div id="modal1" class="modal bottom-sheet">
    <div class="modal-content">
        <h5>Share this recipe on any social media!</h5>
        <p>Please click on the below icons to share this recipe.</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
</div>

{% endblock %}
